const _0x552a24=(function(){let _0x5cda7d=!![];return function(_0x55f92e,_0x434777){const _0x50557f=_0x5cda7d?function(){if(_0x434777){const _0xfaa6ff=_0x434777['apply'](_0x55f92e,arguments);return _0x434777=null,_0xfaa6ff;}}:function(){};return _0x5cda7d=![],_0x50557f;};}()),_0x719b6=_0x552a24(this,function(){return _0x719b6['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x719b6)['search']('(((.+)+)+)+$');});_0x719b6();const {SlashCommandBuilder}=require('@discordjs/builders'),{Discord,ActionRowBuilder,ButtonBuilder,EmbedBuilder,MessageSelectMenu,Message,MessageAttachment}=require('discord.js'),fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs['readFileSync']('./config.yml','utf8')),commands=yaml['load'](fs['readFileSync']('./commands.yml','utf8'));module['exports']={'enabled':commands['General']['Suggest']['Enabled'],'data':new SlashCommandBuilder()['setName']('suggest')['setDescription']('Submit\x20a\x20suggestion')['addStringOption'](_0x41979c=>_0x41979c['setName']('suggestion')['setDescription']('suggestion')['setRequired'](!![])),async 'execute'(_0x4b82d6,_0x569801){await _0x4b82d6['deferReply']({'ephemeral':!![]});if(config['SuggestionSettings']['Enabled']===![])return _0x4b82d6['editReply']({'content':'This\x20command\x20has\x20been\x20disabled\x20in\x20the\x20config!','ephemeral':!![]});let _0x3f2fee=_0x4b82d6['options']['getString']('suggestion');if(config['SuggestionUpvote']['ButtonColor']==='Blurple')config['SuggestionUpvote']['ButtonColor']='Primary';if(config['SuggestionUpvote']['ButtonColor']==='Gray')config['SuggestionUpvote']['ButtonColor']='Secondary';if(config['SuggestionUpvote']['ButtonColor']==='Green')config['SuggestionUpvote']['ButtonColor']='Success';if(config['SuggestionUpvote']['ButtonColor']==='Red')config['SuggestionUpvote']['ButtonColor']='Danger';if(config['SuggestionDownvote']['ButtonColor']==='Blurple')config['SuggestionDownvote']['ButtonColor']='Primary';if(config['SuggestionDownvote']['ButtonColor']==='Gray')config['SuggestionDownvote']['ButtonColor']='Secondary';if(config['SuggestionDownvote']['ButtonColor']==='Green')config['SuggestionDownvote']['ButtonColor']='Success';if(config['SuggestionDownvote']['ButtonColor']==='Red')config['SuggestionDownvote']['ButtonColor']='Danger';if(config['SuggestionResetvote']['ButtonColor']==='Blurple')config['SuggestionResetvote']['ButtonColor']='Primary';if(config['SuggestionResetvote']['ButtonColor']==='Gray')config['SuggestionResetvote']['ButtonColor']='Secondary';if(config['SuggestionResetvote']['ButtonColor']==='Green')config['SuggestionResetvote']['ButtonColor']='Success';if(config['SuggestionResetvote']['ButtonColor']==='Red')config['SuggestionResetvote']['ButtonColor']='Danger';if(config['SuggestionAccept']['ButtonColor']==='Blurple')config['SuggestionAccept']['ButtonColor']='Primary';if(config['SuggestionAccept']['ButtonColor']==='Gray')config['SuggestionAccept']['ButtonColor']='Secondary';if(config['SuggestionAccept']['ButtonColor']==='Green')config['SuggestionAccept']['ButtonColor']='Success';if(config['SuggestionAccept']['ButtonColor']==='Red')config['SuggestionAccept']['ButtonColor']='Danger';if(config['SuggestionDeny']['ButtonColor']==='Blurple')config['SuggestionDeny']['ButtonColor']='Primary';if(config['SuggestionDeny']['ButtonColor']==='Gray')config['SuggestionDeny']['ButtonColor']='Secondary';if(config['SuggestionDeny']['ButtonColor']==='Green')config['SuggestionDeny']['ButtonColor']='Success';if(config['SuggestionDeny']['ButtonColor']==='Red')config['SuggestionDeny']['ButtonColor']='Danger';let _0x1efb13=_0x569801['channels']['cache']['get'](config['SuggestionSettings']['ChannelID']);if(!_0x1efb13)return _0x4b82d6['editReply']({'content':'Suggestion\x20channel\x20has\x20not\x20been\x20setup!\x20Please\x20fix\x20this\x20in\x20the\x20bot\x27s\x20config!','ephemeral':!![]});let _0x4c5142=_0x4b82d6['user']['displayAvatarURL']({'format':'png','dynamic':!![],'size':0x400});const _0x5114dc=new ButtonBuilder()['setCustomId']('upvote')['setLabel'](config['SuggestionUpvote']['ButtonName'])['setStyle'](config['SuggestionUpvote']['ButtonColor'])['setEmoji'](config['SuggestionUpvote']['ButtonEmoji']),_0x3a0529=new ButtonBuilder()['setCustomId']('downvote')['setLabel'](config['SuggestionDownvote']['ButtonName'])['setStyle'](config['SuggestionDownvote']['ButtonColor'])['setEmoji'](config['SuggestionDownvote']['ButtonEmoji']),_0x439bd8=new ButtonBuilder()['setCustomId']('resetvote')['setLabel'](config['SuggestionResetvote']['ButtonName'])['setStyle'](config['SuggestionResetvote']['ButtonColor'])['setEmoji'](config['SuggestionResetvote']['ButtonEmoji']),_0x1fc79b=new ButtonBuilder()['setCustomId']('accept')['setLabel'](config['SuggestionAccept']['ButtonName'])['setStyle'](config['SuggestionAccept']['ButtonColor'])['setEmoji'](config['SuggestionAccept']['ButtonEmoji']),_0x37e5db=new ButtonBuilder()['setCustomId']('deny')['setLabel'](config['SuggestionDeny']['ButtonName'])['setStyle'](config['SuggestionDeny']['ButtonColor'])['setEmoji'](config['SuggestionDeny']['ButtonEmoji']);let _0xd1f326='';if(config['SuggestionSettings']['EnableAcceptDenySystem'])_0xd1f326=new ActionRowBuilder()['addComponents'](_0x5114dc,_0x3a0529,_0x439bd8,_0x1fc79b,_0x37e5db);if(config['SuggestionSettings']['EnableAcceptDenySystem']===![])_0xd1f326=new ActionRowBuilder()['addComponents'](_0x5114dc,_0x3a0529,_0x439bd8);let _0x38e845=new EmbedBuilder();_0x38e845['setColor'](config['SuggestionStatusesEmbedColors']['Pending']),_0x38e845['setAuthor']({'name':config['Locale']['newSuggestionTitle']+'\x20(#'+_0x569801['globalStats']['get'](''+_0x4b82d6['guild']['id'],'totalSuggestions')+')'}),_0x38e845['addFields']([{'name':'•\x20'+config['Locale']['suggestionTitle'],'value':'>\x20```'+_0x3f2fee+'```'}]);if(config['SuggestionSettings']['EnableAcceptDenySystem'])_0x38e845['addFields']([{'name':'•\x20'+config['Locale']['suggestionInformation'],'value':'>\x20**'+config['Locale']['suggestionFrom']+'**\x20<@!'+_0x4b82d6['user']['id']+'>\x0a>\x20**'+config['Locale']['suggestionUpvotes']+'**\x200\x0a>\x20**'+config['Locale']['suggestionDownvotes']+'**\x200\x0a>\x20**'+config['Locale']['suggestionStatus']+'**\x20'+config['SuggestionStatuses']['Pending']}]);if(config['SuggestionSettings']['EnableAcceptDenySystem']===![])_0x38e845['addFields']([{'name':'•\x20'+config['Locale']['suggestionInformation'],'value':'>\x20**'+config['Locale']['suggestionFrom']+'**\x20<@!'+_0x4b82d6['user']['id']+'>\x0a>\x20**'+config['Locale']['suggestionUpvotes']+'**\x200\x0a>\x20**'+config['Locale']['suggestionDownvotes']+'**\x200'}]);_0x38e845['setThumbnail'](_0x4c5142),_0x38e845['setFooter']({'text':''+_0x4b82d6['user']['username'],'iconURL':''+_0x4b82d6['user']['displayAvatarURL']({'dynamic':!![]})}),_0x38e845['setTimestamp']();if(_0x1efb13)_0x1efb13['send']({'embeds':[_0x38e845],'components':[_0xd1f326]})['then'](async function(_0x43b6af){if(config['SuggestionSettings']['CreateThreads'])_0x43b6af['startThread']({'name':_0x4b82d6['user']['username']+'\x27s\x20suggestion\x20discussion\x27','autoArchiveDuration':0x2760,'type':'GUILD_PUBLIC_THREAD'});await _0x569801['suggestions']['ensure'](''+_0x43b6af['id'],{'userID':_0x4b82d6['user']['id'],'msgID':_0x43b6af['id'],'suggestion':_0x3f2fee,'upVotes':0x0,'downVotes':0x0,'status':'Pending'}),_0x569801['globalStats']['inc'](_0x4b82d6['guild']['id'],'totalSuggestions');});_0x4b82d6['editReply']({'content':config['Locale']['suggestionSubmit'],'ephemeral':!![]});}};